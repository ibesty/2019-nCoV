(this.webpackJsonpphone=this.webpackJsonpphone||[]).push([[0],{188:function(e,t,a){e.exports={"timeline-wrapper":"timeline_timeline-wrapper__2TPu1",dot:"timeline_dot__6Z8eZ"}},341:function(e,t,a){e.exports=a(879)},346:function(e,t,a){},43:function(e,t,a){e.exports={index:"index_index__3ejdo",header:"index_header__9MThl",title:"index_title__1RUdl",status:"index_status__1FFP7",map:"index_map__3bEWK",footer:"index_footer__3nPLM",developer:"index_developer__2oRF4",source:"index_source__1r-PQ"}},879:function(e,t,a){"use strict";a.r(t);var n=a(3),o=a.n(n),r=a(335),i=a.n(r),l=(a(346),a(187)),c=a.n(l),s=a(127),m=a(336),d=a.n(m),u=a(125),f=a.n(u),p=(a(661),a(337)),h=a.n(p),v=a(43),b=a.n(v),_=a(338),y=a.n(_),w=a(189),x=a.n(w),E=(a(673),a(188)),S=a.n(E),g=function(e){var t=e.news,a=void 0===t?[]:t;return o.a.createElement("div",{className:S.a["timeline-wrapper"]},o.a.createElement(x.a,null,a.map((function(e){return o.a.createElement(x.a.Item,{key:e.timestamp,dot:o.a.createElement("div",{className:S.a.dot})},y()(1e3*e.timestamp).format("YYYY\u5e74MM\u6708DD\u65e5")," ",e.message)}))))};function O(e){var t=window.citys.find((function(t){return 0===t.name.indexOf(e+"\u5e02")||0===t.name.indexOf(e+"\u53bf")}));return t?t.lnglat:[]}function k(e){var t=[],a=!0,n=!1,o=void 0;try{for(var r,i=function(){var e=r.value,a=t.find((function(t){return t.name.indexOf(e.to)>0}));a?a.symbolSize=Math.min(e.num,5):t.push({name:e.from,value:O(e.from),symbolSize:2,itemStyle:{normal:{color:"red"}}}),t.push({name:e.to,value:O(e.to),symbolSize:Math.min(e.num,5),itemStyle:{normal:{color:"red"}}})},l=e[Symbol.iterator]();!(a=(r=l.next()).done);a=!0)i()}catch(c){n=!0,o=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}return t}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(878);i.a.render(o.a.createElement((function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),l=Object(s.a)(i,2),m=l[0],u=l[1],p=Object(n.useState)({}),v=Object(s.a)(p,2),_=v[0],y=v[1],w=Object(n.useCallback)((function(){var e,t,a,n,o;return c.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,c.a.awrap(d.a.post("https://api.st.link/angelia/2019ncov"));case 3:e=i.sent,0===(t=e.data).errcode&&(a=t.news,n=t.hotspot,o=t.status,u(a),r(n),y(o)),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),console.error(i.t0);case 11:case"end":return i.stop()}}),null,null,[[0,8]])}));Object(n.useEffect)((function(){w()}),[]);var x=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return{fromName:e.from,toName:e.to,coords:[O(e.from),O(e.to)]}})),n=k(a),o={backgroundColor:"#404a59",legend:{show:!1,orient:"vertical",top:"bottom",left:"right",data:["\u5730\u70b9","\u7ebf\u8def"],textStyle:{color:"#fff"}},geo:{map:"china",label:{emphasis:{show:!0,color:"#fff"}},roam:!0,itemStyle:{normal:{areaColor:"#323c48",borderColor:"#404a59"},emphasis:{areaColor:"#2a333d"}}}};return o.series=[{name:"\u5730\u70b9",type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",fontSize:8}},symbolSize:2,showEffectOn:"render",itemStyle:{normal:{color:"#46bee9"}},data:n},{name:"\u7ebf\u8def",type:"lines",coordinateSystem:"geo",zlevel:2,large:!0,effect:{show:!0,constantSpeed:30,symbol:"pin",symbolSize:3,trailLength:0},lineStyle:{normal:{color:new f.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F58158"},{offset:1,color:"red"}],!1),width:1,opacity:.2,curveness:.1}},data:t}],o}),[a]);return o.a.createElement("div",{className:b.a.index},o.a.createElement("div",{className:b.a.header},o.a.createElement("div",{className:b.a.title},"\u6b66\u6c49\u80ba\u708e\u70ed\u70b9\u8ffd\u8e2a"),o.a.createElement("div",{className:b.a.status},o.a.createElement("div",null,"\u786e\u8bca\uff1a",_["\u786e\u8bca"]),o.a.createElement("div",null,"\u6b7b\u4ea1\uff1a",_["\u6b7b\u4ea1"]))),o.a.createElement(h.a,{id:"map",className:b.a.map,option:x(a)}),o.a.createElement(g,{news:m}),o.a.createElement("div",{className:b.a.footer},o.a.createElement("div",{className:b.a.source},"\u6d88\u606f\u6765\u6e90\u51e4\u51f0\u7f51 V2EX\u7f51\u53cb\u6574\u7406")))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[341,1,2]]]);
//# sourceMappingURL=main.11eaeb9f.chunk.js.map